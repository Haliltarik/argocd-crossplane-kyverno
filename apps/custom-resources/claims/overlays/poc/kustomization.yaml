# apps/custom-resources/claims/overlays/poc/kustomization.yaml
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - ../../base

patches:
  - target:
      kind: BucketClaim
      name: bucket-claim-base
    patch: |-
      - op: replace
        path: /metadata/name
        value: test-crossplane-bucket-poc-xrd-407083967603-tamt
      - op: replace
        path: /spec/bucketName
        value: test-crossplane-bucket-poc-xrd-407083967603-tamt
      - op: add
        path: /spec/compositionRef
        value:
          name: s3bucket-secure
      - op: add
        path: /spec/requireSSL
        value: true
      - op: add
        path: /spec/encryption
        value: true
      - op: replace
        path: /spec/tags
        value:
          - key: Environment
            value: poc
          - key: Owner
            value: fac